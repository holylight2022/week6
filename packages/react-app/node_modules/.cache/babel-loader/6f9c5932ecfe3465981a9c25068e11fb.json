{"ast":null,"code":"import { utils } from 'ethers';\nimport { useEffect, useState } from 'react';\n/**\r\n * Checks whether a contract exists on the blockchain, returns true if it exists, otherwise false\r\n *\r\n  ~ Features ~\r\n  - Provide contractAddress to check if the contract is deployed\r\n  - Change provider to check contract address on different chains (ex. mainnetProvider)\r\n * @param provider (TEthersProvider)\r\n * @param contractAddress (string)\r\n * @returns (boolean)\r\n */\n\nexport const useContractExistsAtAddress = (provider, contractAddress) => {\n  const [contractIsDeployed, setContractIsDeployed] = useState(false);\n  useEffect(() => {\n    /**\r\n     * We can look at the blockchain and see what's stored at `contractAddress`\r\n     * If we find code then we know that a contract exists there.\r\n     * If we find nothing (0x0) then there is no contract deployed to that address\r\n     */\n    const checkDeployment = async () => {\n      if (!utils.isAddress(contractAddress)) {\n        return;\n      }\n\n      if (provider) {\n        const bytecode = await provider.getCode(contractAddress);\n        setContractIsDeployed(bytecode !== '0x');\n      }\n    };\n\n    void checkDeployment();\n  }, [provider, contractAddress]);\n  return contractIsDeployed;\n};","map":{"version":3,"sources":["C:/Users/Firebat/challenge-1-decentralized-staking/node_modules/eth-hooks/useContractExistsAtAddress.js"],"names":["utils","useEffect","useState","useContractExistsAtAddress","provider","contractAddress","contractIsDeployed","setContractIsDeployed","checkDeployment","isAddress","bytecode","getCode"],"mappings":"AAAA,SAASA,KAAT,QAAsB,QAAtB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,0BAA0B,GAAG,CAACC,QAAD,EAAWC,eAAX,KAA+B;AACrE,QAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CL,QAAQ,CAAC,KAAD,CAA5D;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ;AACR;AACA;AACA;AACA;AACQ,UAAMO,eAAe,GAAG,YAAY;AAChC,UAAI,CAACR,KAAK,CAACS,SAAN,CAAgBJ,eAAhB,CAAL,EAAuC;AACnC;AACH;;AACD,UAAID,QAAJ,EAAc;AACV,cAAMM,QAAQ,GAAG,MAAMN,QAAQ,CAACO,OAAT,CAAiBN,eAAjB,CAAvB;AACAE,QAAAA,qBAAqB,CAACG,QAAQ,KAAK,IAAd,CAArB;AACH;AACJ,KARD;;AASA,SAAKF,eAAe,EAApB;AACH,GAhBQ,EAgBN,CAACJ,QAAD,EAAWC,eAAX,CAhBM,CAAT;AAiBA,SAAOC,kBAAP;AACH,CApBM","sourcesContent":["import { utils } from 'ethers';\r\nimport { useEffect, useState } from 'react';\r\n/**\r\n * Checks whether a contract exists on the blockchain, returns true if it exists, otherwise false\r\n *\r\n  ~ Features ~\r\n  - Provide contractAddress to check if the contract is deployed\r\n  - Change provider to check contract address on different chains (ex. mainnetProvider)\r\n * @param provider (TEthersProvider)\r\n * @param contractAddress (string)\r\n * @returns (boolean)\r\n */\r\nexport const useContractExistsAtAddress = (provider, contractAddress) => {\r\n    const [contractIsDeployed, setContractIsDeployed] = useState(false);\r\n    useEffect(() => {\r\n        /**\r\n         * We can look at the blockchain and see what's stored at `contractAddress`\r\n         * If we find code then we know that a contract exists there.\r\n         * If we find nothing (0x0) then there is no contract deployed to that address\r\n         */\r\n        const checkDeployment = async () => {\r\n            if (!utils.isAddress(contractAddress)) {\r\n                return;\r\n            }\r\n            if (provider) {\r\n                const bytecode = await provider.getCode(contractAddress);\r\n                setContractIsDeployed(bytecode !== '0x');\r\n            }\r\n        };\r\n        void checkDeployment();\r\n    }, [provider, contractAddress]);\r\n    return contractIsDeployed;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}